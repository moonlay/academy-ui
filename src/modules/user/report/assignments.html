<template>
<!-- <div if.bind="assignmentData"> -->
    
    <div>
        <div class="box box-info">
            <div class="box-header with-border">
                <h3 class="box-title"> Detail</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                    </button>
                </div>
            </div>
            <div class="box-body">
                <div class="row">
                    <div class="col-md-3">
                        <div class="box box-primary">
                            <div class="box-body box-profile">
                            <ul class="list-group list-group-unbordered">
                                <li class="list-group-item">
                                <b>Jumlah Projek</b> <a class="pull-right">${totalProjects}</a>
                                </li>
                                <li class="list-group-item">
                                <b>Jumlah Tugas</b> <a class="pull-right">${countAssignments}</a>
                                </li>
                                <li class="list-group-item">
                                <b>Tugas yang Selesai.</b> <a class="pull-right">${countClosed}</a>
                                </li>
                                <li class="list-group-item">
                                    <b>Tugas yang Belum Selesai.</b> <a class="pull-right">${countOpen}</a>
                                </li>
                            </ul>
                            </div>
                            <!-- /.box-body -->
                        </div>    
                    </div>

                    <div class="col-sm-3">
                        <div class="small-box bg-green">
                            <div class="inner">
                                <div if.bind="!totalElapsed" class="overlay">
                                    <i class="fa fa-refresh fa-spin"></i>
                                </div>
                                 <h3 if.bind="!totalElapsed" class="fa fa-circle-o-notch fa-spin fa-2x"></h3> 
                                <h3 if.bind="totalElapsed">${totalElapsed}/${totalBudget}<sup style="font-size: 20px"></sup></h3>
                                <p>Rasio Penggunaan Waktu (jam)</p>
                            </div>
                            <div class="icon">
                                <i class="fa fa-hourglass"></i>
                            </div>
                                <!-- <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a> -->
                        </div>
                    </div>
                    <div class="col-sm-3">                       
                        <div class="small-box bg-blue">

                            <div class="inner">
                                
                                 <h3 if.bind="!efficiencyCount" class="fa fa-circle-o-notch fa-spin fa-2x"></h3> 
                                <h3 if.bind="efficiencyCount">${efficiencyCount}<sup style="font-size: 20px"> %</sup></h3>
                                <p>Efisiensi pengerjaan tugas yang telah selesai.</p>
                            </div>
                            <div class="icon">
                                <i class="fa fa-balance-scale"></i>
                            </div>
                                <!-- <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a> -->
                        </div>
                            
                    </div>
                    <div class="col-sm-3">                        
                        <div class="small-box bg-red">
                            <div class="inner">
                                <h3 if.bind="!countAssignments" class="fa fa-circle-o-notch fa-spin fa-2x"></h3>
                                <h3 if.bind="countAssignments">${countExceeded}/${countAssignments}<sup style="font-size: 20px"></sup></h3>
                                <p>Assignment yang melewati deadline.</p>
                            </div>
                            <div class="icon">
                                <i class="fa fa-exclamation-triangle"></i>
                            </div>
                                <!-- <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a> -->
                        </div>
                    </div> 
                </div>
                <hr>
                <div class="row">
                     <div class="col-sm-12">
                        <fieldset>
                            <legend>Grafik penggunaan Waktu dalam bulan ${month}
                            </legend>
                            <canvas height="50" id="bar-chart" chart="type: bar; should-update: true; data.bind: SimpleLineData"></canvas>
                        </fieldset>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-sm-12"> 
                        <div class="col-sm-6">
                            <table>
                                <tbody>
                                    <tr>
                                        <th>Tanggal Awal : </th>
                                        <th>Tanggal Akhir :</th>
                                        <th></th>
                                    </tr>
                                    <tr>
                                        <td>
                                            <au-datepicker value.bind="startDate"></au-datepicker>
                                        </td>
                                        <td>
                                            <au-datepicker value.bind="endDate"></au-datepicker>
                                        </td>
                                        <td>
                                            <button type="button" click.delegate="getAssignmentByDate()" class="btn btn-success">Cari</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-sm-12" >
                            <div if.bind="countElapsedByDate" class="box box-widget widget-user">
                            <!-- Add the bg color to the header using any of the bg-* classes -->
                                <div class="box-footer">
                                    <div class="row">
                                        <div class="col-sm-3 border-right">
                                        <div class="description-block">
                                            <h5 class="description-header">${countElapsedByDate}/${countBudgetByDate}</h5>
                                            <span class="description-text">Waktu yang terpakai/yang diberikan.</span>
                                        </div>
                                        <!-- /.description-block -->
                                        </div>
                                        <!-- /.col -->
                                        <div class="col-sm-3 border-right">
                                        <div class="description-block">
                                            <h5 class="description-header">${efficiencyByDateCount} %</h5>
                                            <span class="description-text">Efisiensi penggunaan waktu.</span>
                                        </div>
                                        <!-- /.description-block -->
                                        </div>
                                        <!-- /.col -->
                                        <div class="col-sm-3 border-right">
                                        <div class="description-block">
                                            <h5 class="description-header">${countAssignmentsbyDate}</h5>
                                            <span class="description-text">Jumlah Tugas.</span>
                                        </div>
                                        <!-- /.description-block -->
                                        </div>
                                        <!-- /.col -->
                                        <div class="col-sm-3">
                                            
                                        <div class="description-block">
                                            <h5 class="description-header">${countClosedAssignmentsByDate}</h5>
                                            <span class="description-text">Tugas selesai.</span>
                                        </div>
                                        <!-- /.description-block -->
                                        </div>
                                        <!-- /.col -->
                                    </div>
                                <!-- /.row -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    
                    <div class="col-xs-12">
                    <!-- <datatable
                        destroy
                        edit.delegate="myEditImplementation($event)"
                        columns.bind="id,name as 'username'"
                        actions.bind="actions"
                        footer.bind="footer"
                        data.bind="test"
                    ></datatable> -->
                        <div class="col-xs-12">
                            <au-table
                                search.bind = "false"
                                view-model.ref="assignmentTable"
                                data.bind="assignmentLoader"
                                columns.bind="assignmentsColumns"
                                sortable.bind="true"  
                                page-size="10"
                                >
                            </au-table>
                        </div>
                        <div class="col-xs-12">
                            <hr>
                        </div>   
                    </div>     
                </div>
            </div>
        </div>   
    </div>                    
</template>